# 正则表达式

![regex](regex.jpg)

正则表达式，又称规则表达式，是一种文本模式，通常用来检索、替换和控制文本。

# 元字符

| 元字符 | 说明 |
| :---: | :---: |
| ^ | 匹配字符串的开头 |
| $ | 匹配字符串的结尾 |
| . | 匹配出了换行符之外的任意字符 |
| \d | 匹配数字 |
| \s | 匹配任意空白符 |
| \w | 匹配字母或数字或下划线或汉字 |
| \b | 匹配单词的开始或结束 |

# 重复限定符

| 重复限定符 | 说明 |
| :---: | :---: |
| * | 重复0次或无数次 |
| + | 重复1次或无数次 |
| ? | 重复0次或1次 |
| {n} | 重复n次 |
| {n,} | 重复n次或无数次 |
| {n,m} | 重复n到m次 |

# 分组

正则表达式中用小括号`()`来做分组，也就是括号中的内容作为一个整体。因此当我们要匹配多个`ab`时，可以这样：

```sh
(ab)*
```

# 转义

正则提供了转义的方式，在要转义的字符前面加个斜杠，也就是`\`即可。当我们要匹配`(ab)`时，可以这样：

```sh
(\(ab\))*
```

# 条件或

正则用符号`|`来表示或，也叫做分支条件，当满足正则里的分支条件的任何一种条件时，都会当成是匹配成功。

```sh
(123|456)
```

# 区间

正则提供一个元字符中括号`[]`来表示区间条件。

- 限定0到9，可以写成[0-9]
- 限定A-Z，写成[A-Z]
- 限定某些数字[165]

# 零宽断言

- 正向先行断言（正前瞻）：
  - 语法：`(?=pattern)`
  - 作用：匹配pattern表达式的前面内容，不返回本身。
- 正向后行断言（正后顾）:
  - 语法：`(?<=pattern)`
  - 作用：匹配pattern表达式的后面的内容，不返回本身。

# 贪婪和非贪婪

- 贪婪
  - 贪婪匹配：当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符，这匹配方式叫做贪婪匹配。
  - 特性：一次性读入整个字符串进行匹配，每当不匹配就舍弃最右边一个字符，继续匹配，依次匹配和舍弃（这种匹配-舍弃的方式也叫做回溯），直到匹配成功或者把整个字符串舍弃完为止，因此它是一种最大化的数据返回，能多不会少。
- 懒惰
  - 懒惰匹配：当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能少的字符，这匹配方式叫做懒惰匹配。
  - 特性：从左到右，从字符串的最左边开始匹配，每次试图不读入字符匹配，匹配成功，则完成匹配，否则读入一个字符再匹配，依此循环（读入字符、匹配）直到匹配成功或者把字符串的字符匹配完为止。

# 反义

| 元字符 | 说明 |
| :---: | :---: |
| \W | 匹配任何不是字母或数字或下划线或汉字的字符 |
| \S | 匹配任意不是空白符的字符 |
| \D | 匹配任意非数字字符 |
| \B | 匹配任意不是单词的开始或结束的位置 |
| [^x] | 匹配任意不是x的字符 |
| [^aeiou] | 匹配任何不是元音的字符 |

# 参考

- 知乎提问：[你是如何学会正则表达式的](https://www.zhihu.com/question/48219401/answer/742444326)

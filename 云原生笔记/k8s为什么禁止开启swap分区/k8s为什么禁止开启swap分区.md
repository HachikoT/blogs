- [k8s为什么禁止开启swap分区](#k8s为什么禁止开启swap分区)
- [永久禁用swap](#永久禁用swap)

# k8s为什么禁止开启swap分区

- **性能波动：内存页换入换出，导致访问延迟从纳秒级骤增到毫秒级，降低了后台服务应用的稳定性，故障排查也变得困难，不好区分是应用自身问题还是swap抖动**
- **资源调度与隔离问题：加剧内存资源超卖，一个pod的内存问题可能通过swap影响整个节点上的应用**

# 永久禁用swap

```bash
sudo swapoff -a
sudo sed -i '/ swap /s/^/#/' /etc/fstab
```
